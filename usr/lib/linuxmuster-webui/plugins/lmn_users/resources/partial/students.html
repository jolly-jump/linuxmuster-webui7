<br/>

<progress-spinner ng:show="students == null"></progress-spinner>

<div ng:show="students != null">
    <div ng:show="students[0] == 'none'">
        <br>
        <div class="alert alert-info">
            <i class="fa fa-info-circle"></i> <span translate="">There are no students to manage yet. You can add students using the list management module</span>.
        </div>
    </div>

    <div ng:show="students[0] != 'none'">
        <input ng:model="filter" type="search" autofocus class="form-control" placeholder="Filter" typeahead-min-length="1" />


        <table class="table" style="width:100%">
            <tr><th> </th>
                <th width="120"> Loginname / Class </th>
                <th> Name </th></tr>
            <tr ng:repeat="student in students|filter:filter" ng:show="student.class[0] != '#'">
                <td width="30" style="text-align:center;">
                    <span checkbox ng:model="student.selected"></span>
                </td>
                <td width="1" style="text-align:left;">
                    <i>{{student.sAMAccountName}}</i> <br> {{student.sophomorixAdminClass}}
                </td>
                <td>
                    <b>{{student.givenName}}</b> <br> {{student.sn}}
                </td>

                <td width="1">
                    <button class="btn btn-default" ng:click="showInitialPassword([student])">
                        <i class="fa fa-key"></i> <span translate>Show password</span>
                    </button>
                </td>
                <td width="1">
                    <span uib-dropdown>
                        <button class="btn btn-default" uib-dropdown-toggle>
                            <i class="fa fa-arrow-right"></i> <span translate>Change password</span>
                            <span class="caret"></span>
                        </button>
                        <ul uib-dropdown-menu class="dropdown-menu-right">
                            <li>
                                <a ng:click="setInitialPassword([student])" translate>
                                    Initial password
                                </a>
                            </li>
                            <li>
                                <a ng:click="setRandomPassword([student])" translate>
                                    Random password
                                </a>
                            </li>
                            <li>
                                <a ng:click="setCustomPassword([student])" translate>
                                    Custom password
                                </a>
                            </li>
                        </ul>
                    </span>
                </td>
            </tr>
        </table>

        <br/>

        <button ng:click="selectAll()" class="btn btn-default">
            <i class="fa fa-asterisk"></i> <span translate>Select all</span>
        </button>

        <button ng:click="batchSetInitialPassword()" ng:show="haveSelection()" class="btn btn-default" translate>
            Set initial password for selected
        </button>
        <button ng:click="batchSetRandomPassword()" ng:show="haveSelection()" class="btn btn-default" translate>
            Set random password for selected
        </button>
        <button ng:click="batchSetCustomPassword()" ng:show="haveSelection()" class="btn btn-default" translate>
            Set custom password for selected
        </button>
    </div>
